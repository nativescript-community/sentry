<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@nativescript-community/sentry</title><meta name="description" content="Documentation for @nativescript-community/sentry"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://docs.nativescript.org">Nativescript Doc</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@nativescript-community/sentry</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@nativescript-community/sentry</h1></div><div class="tsd-panel tsd-typography"><!-- ⚠️ This README has been generated from the file(s) "blueprint.md" ⚠️-->[![npm](https://img.shields.io/npm/v/@nativescript-community/sentry.svg)](https://www.npmjs.com/package/@nativescript-community/sentry)
<p><a href="https://www.npmjs.com/package/@nativescript-community/sentry" target="_blank" class="external"><img src="https://img.shields.io/npm/dt/@nativescript-community/sentry.svg?label=npm%20downloads" alt="npm"></a>
<a href="https://github.com/nativescript-community/sentry/network" target="_blank" class="external"><img src="https://img.shields.io/github/forks/nativescript-community/sentry.svg" alt="GitHub forks"></a>
<a href="https://github.com/nativescript-community/sentry/stargazers" target="_blank" class="external"><img src="https://img.shields.io/github/stars/nativescript-community/sentry.svg" alt="GitHub stars"></a></p>
<p><a href="#installation"></a></p>
<a id="installation" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li><code>tns plugin add @nativescript-community/sentry</code></li>
</ul>
<p>Be sure to run a new build after adding plugins to avoid any issues.</p>
<p><a href="#configuration"></a></p>
<a id="configuration" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Configuration<a href="#configuration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="#webpack-"></a></p>
<a id="webpack" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Webpack<a href="#webpack" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You will need to add something like this to your webpack config so that the source maps gets uploaded. I dont set <code>auth</code> or <code>project</code> in the options as i use a <code>.sentryclirc</code> config file.</p>
<ul>
<li><code>SOURCEMAP_REL_DIR</code>: i almost always set it to <code>../../sourcemaps</code></li>
<li><code>SENTRY_PREFIX</code>: the default is <code>app:///</code></li>
</ul>
<pre><code class="javascript"><span class="hl-0">if</span><span class="hl-1"> (!!</span><span class="hl-2">sentry</span><span class="hl-1"> &amp;&amp; !!</span><span class="hl-2">uploadSentry</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">config</span><span class="hl-1">.</span><span class="hl-2">devtool</span><span class="hl-1"> = </span><span class="hl-3">false</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">config</span><span class="hl-1">.</span><span class="hl-2">plugins</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-2">webpack</span><span class="hl-1">.</span><span class="hl-4">SourceMapDevToolPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-2">append:</span><span class="hl-1"> </span><span class="hl-5">`</span><span class="hl-6">\n</span><span class="hl-5">//# sourceMappingURL=</span><span class="hl-3">${</span><span class="hl-2">process</span><span class="hl-7">.</span><span class="hl-2">env</span><span class="hl-7">.</span><span class="hl-8">SENTRY_PREFIX</span><span class="hl-3">}</span><span class="hl-5">[name].js.map`</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">filename:</span><span class="hl-1"> </span><span class="hl-4">join</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-8">SOURCEMAP_REL_DIR</span><span class="hl-1">, </span><span class="hl-5">&#39;[name].js.map&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">  </span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-2">appVersion</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-2">buildNumber</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">isAndroid</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">gradlePath</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-2">appResourcesPath</span><span class="hl-3">}</span><span class="hl-5">/Android/app.gradle`</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">gradleData</span><span class="hl-1"> = </span><span class="hl-4">readFileSync</span><span class="hl-1">(</span><span class="hl-2">gradlePath</span><span class="hl-1">, </span><span class="hl-5">&#39;utf8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">appVersion</span><span class="hl-1"> = </span><span class="hl-2">gradleData</span><span class="hl-1">.</span><span class="hl-4">match</span><span class="hl-1">(</span><span class="hl-9">/versionName &quot;</span><span class="hl-10">((?:[</span><span class="hl-9">0-9</span><span class="hl-10">]</span><span class="hl-11">+</span><span class="hl-6">\.</span><span class="hl-11">?</span><span class="hl-10">)</span><span class="hl-11">+</span><span class="hl-10">)</span><span class="hl-9">&quot;/</span><span class="hl-1">)[</span><span class="hl-12">1</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">buildNumber</span><span class="hl-1"> = </span><span class="hl-2">gradleData</span><span class="hl-1">.</span><span class="hl-4">match</span><span class="hl-1">(</span><span class="hl-9">/versionCode </span><span class="hl-10">([</span><span class="hl-9">0-9</span><span class="hl-10">]</span><span class="hl-11">+</span><span class="hl-10">)</span><span class="hl-9">/</span><span class="hl-1">)[</span><span class="hl-12">1</span><span class="hl-1">];</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">isIOS</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">plistPath</span><span class="hl-1"> = </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-2">appResourcesPath</span><span class="hl-3">}</span><span class="hl-5">/iOS/Info.plist`</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">plistData</span><span class="hl-1"> = </span><span class="hl-4">readFileSync</span><span class="hl-1">(</span><span class="hl-2">plistPath</span><span class="hl-1">, </span><span class="hl-5">&#39;utf8&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-2">appVersion</span><span class="hl-1"> = </span><span class="hl-2">plistData</span><span class="hl-1">.</span><span class="hl-4">match</span><span class="hl-1">(</span><span class="hl-9">/&lt;key&gt;CFBundleShortVersionString&lt;</span><span class="hl-6">\/</span><span class="hl-9">key&gt;</span><span class="hl-10">[</span><span class="hl-9">\s\n</span><span class="hl-10">]</span><span class="hl-11">*</span><span class="hl-9">&lt;string&gt;</span><span class="hl-10">(</span><span class="hl-9">.</span><span class="hl-11">*?</span><span class="hl-10">)</span><span class="hl-9">&lt;</span><span class="hl-6">\/</span><span class="hl-9">string&gt;/</span><span class="hl-1">)[</span><span class="hl-12">1</span><span class="hl-1">];</span><br/><span class="hl-1">      </span><span class="hl-2">buildNumber</span><span class="hl-1"> = </span><span class="hl-2">plistData</span><span class="hl-1">.</span><span class="hl-4">match</span><span class="hl-1">(</span><span class="hl-9">/&lt;key&gt;CFBundleVersion&lt;</span><span class="hl-6">\/</span><span class="hl-9">key&gt;</span><span class="hl-10">[</span><span class="hl-9">\s\n</span><span class="hl-10">]</span><span class="hl-11">*</span><span class="hl-9">&lt;string&gt;</span><span class="hl-10">([</span><span class="hl-9">0-9</span><span class="hl-10">]</span><span class="hl-11">*</span><span class="hl-10">)</span><span class="hl-9">&lt;</span><span class="hl-6">\/</span><span class="hl-9">string&gt;/</span><span class="hl-1">)[</span><span class="hl-12">1</span><span class="hl-1">];</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-2">config</span><span class="hl-1">.</span><span class="hl-2">plugins</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-4">SentryCliPlugin</span><span class="hl-1">({</span><br/><span class="hl-1">          </span><span class="hl-2">release:</span><span class="hl-1"> </span><span class="hl-2">appVersion</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">urlPrefix:</span><span class="hl-1"> </span><span class="hl-5">&#39;app:///&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">rewrite:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">release:</span><span class="hl-1"> </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-2">nconfig</span><span class="hl-7">.</span><span class="hl-2">id</span><span class="hl-3">}</span><span class="hl-5">@</span><span class="hl-3">${</span><span class="hl-2">appVersion</span><span class="hl-3">}</span><span class="hl-5">+</span><span class="hl-3">${</span><span class="hl-2">buildNumber</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">dist:</span><span class="hl-1"> </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-2">buildNumber</span><span class="hl-3">}</span><span class="hl-5">.</span><span class="hl-3">${</span><span class="hl-2">platform</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">ignoreFile:</span><span class="hl-1"> </span><span class="hl-5">&#39;.sentrycliignore&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          </span><span class="hl-2">include:</span><span class="hl-1"> [</span><span class="hl-4">join</span><span class="hl-1">(</span><span class="hl-2">dist</span><span class="hl-1">, </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-8">SOURCEMAP_REL_DIR</span><span class="hl-1">)]</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>###debug</p>
<p>For debug mode to work correctly you will need to add this to your webpack (see demo app)</p>
<pre><code class="js"><span class="hl-2">nsWebpack</span><span class="hl-1">.</span><span class="hl-4">chainWebpack</span><span class="hl-1">(</span><span class="hl-2">config</span><span class="hl-3">=&gt;</span><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-2">config</span><span class="hl-1">.</span><span class="hl-4">entry</span><span class="hl-1">(</span><span class="hl-5">&#39;bundle&#39;</span><span class="hl-1">).</span><span class="hl-4">prepend</span><span class="hl-1">(</span><span class="hl-5">&#39;@nativescript-community/sentry/process&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><a href="#fastlane"></a></p>
<a id="fastlane" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Fastlane<a href="#fastlane" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you use fastlane you can use it to create release and upload dsyms
To do that you need to install it:</p>
<pre><code class="sh"><span class="hl-4">fastlane</span><span class="hl-1"> </span><span class="hl-5">add_plugin</span><span class="hl-1"> </span><span class="hl-5">sentry</span>
</code><button type="button">Copy</button></pre>

<p>Also for now you should install <code>nativescript-set-version</code> as it is needed to read app version, build number.</p>
<pre><code class="sh"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">install</span><span class="hl-1"> </span><span class="hl-3">-D</span><span class="hl-1"> </span><span class="hl-5">nativescript-set-version</span>
</code><button type="button">Copy</button></pre>

<p>Now you can setup your <code>Fastfile</code></p>
<ul>
<li>create release</li>
</ul>
<pre><code><span class="hl-2">version</span><span class="hl-1"> = </span><span class="hl-5">&quot;&quot;</span><br/><span class="hl-2">versionCode</span><span class="hl-1"> = </span><span class="hl-5">&quot;&quot;</span><br/><br/><span class="hl-2">Dir</span><span class="hl-1">.</span><span class="hl-4">chdir</span><span class="hl-1">(</span><span class="hl-5">&quot;..&quot;</span><span class="hl-1">) </span><span class="hl-0">do</span><br/><span class="hl-1">  </span><span class="hl-2">version</span><span class="hl-1">  =  </span><span class="hl-4">sh</span><span class="hl-1">(</span><span class="hl-5">&quot;./node_modules/.bin/get-version&quot;</span><span class="hl-1">, </span><span class="hl-2">platform</span><span class="hl-1">, </span><span class="hl-5">&quot;version&quot;</span><span class="hl-1">).</span><span class="hl-4">gsub</span><span class="hl-1">(</span><span class="hl-9">/\n/</span><span class="hl-1">,</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-2">versionCode</span><span class="hl-1">  =  </span><span class="hl-4">sh</span><span class="hl-1">(</span><span class="hl-5">&quot;./node_modules/.bin/get-version&quot;</span><span class="hl-1">, </span><span class="hl-2">platform</span><span class="hl-1">, </span><span class="hl-5">&quot;code&quot;</span><span class="hl-1">).</span><span class="hl-4">gsub</span><span class="hl-1">(</span><span class="hl-9">/\n/</span><span class="hl-1">,</span><span class="hl-5">&#39;&#39;</span><span class="hl-1">)</span><br/><span class="hl-2">end</span><br/><span class="hl-4">sentry_create_release</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-2">version</span><span class="hl-1">: </span><span class="hl-2">version</span><span class="hl-1">, # </span><span class="hl-2">release</span><span class="hl-1"> </span><span class="hl-2">version</span><span class="hl-1"> </span><span class="hl-2">to</span><span class="hl-1"> </span><span class="hl-2">create</span><br/><span class="hl-1">)</span>
</code><button>Copy</button></pre>

<ul>
<li>upload dsyms</li>
</ul>
<pre><code><span class="hl-2">sentry_upload_dsym</span>
</code><button>Copy</button></pre>

<p><a href="#usage-in-the-app"></a></p>
<a id="usage-in-the-app" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Usage in the app<a href="#usage-in-the-app" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">Sentry</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;@nativescript-community/sentry&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">buildNumber</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-4">getBuildNumber</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">versionName</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-4">getVersionName</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">buildNumber</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-4">getBuildNumber</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">appId</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-4">getAppId</span><span class="hl-1">();</span><br/><span class="hl-2">Sentry</span><span class="hl-1">.</span><span class="hl-4">init</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">dsn:</span><span class="hl-1"> </span><span class="hl-8">SENTRY_DSN</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">debug:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">enableAutoPerformanceTracking:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><a href="#reporting-nativescript-errors"></a></p>
<a id="reporting-nativescript-errors" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Reporting NativeScript errors<a href="#reporting-nativescript-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>onerror</code> method ensures all unhandled NativeScript errors will be caught by Sentry in production, using a <a href="https://docs.nativescript.org/core-concepts/error-handling" target="_blank" class="external">custom error handler</a>.</p>
<p><a href="#reporting-handled-errors"></a></p>
<a id="reporting-handled-errors" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Reporting handled errors<a href="#reporting-handled-errors" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you would like to send a handled error to Bugsnag, you can pass any Error object to Sentry notify method:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">Sentry</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;@nativescript-community/sentry&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-13">// potentially crashy code</span><br/><span class="hl-1">} </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">Sentry</span><span class="hl-1">.</span><span class="hl-4">captureException</span><span class="hl-1">(</span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#reporting-promise-rejections"></a></p>
<a id="reporting-promise-rejections" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Reporting promise rejections<a href="#reporting-promise-rejections" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To report a promise rejection, use notify() as a part of the catch block:</p>
<pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">Sentry</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-5">&#39;@nativescript-community/sentry&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-14">Promise</span><span class="hl-1">(</span><span class="hl-3">function</span><span class="hl-1">(</span><span class="hl-2">resolve</span><span class="hl-1">, </span><span class="hl-2">reject</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-13">/* potentially failing code */</span><br/><span class="hl-1">})</span><br/><span class="hl-1">.</span><span class="hl-4">then</span><span class="hl-1">(</span><span class="hl-3">function</span><span class="hl-1"> () { </span><span class="hl-13">/* if the promise is resolved */</span><span class="hl-1"> })</span><br/><span class="hl-1">.</span><span class="hl-4">catch</span><span class="hl-1">(</span><span class="hl-3">function</span><span class="hl-1"> (</span><span class="hl-2">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">Sentry</span><span class="hl-1">.</span><span class="hl-4">captureException</span><span class="hl-1">(</span><span class="hl-2">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><a href="#sending-diagnostic-data"></a></p>
<a id="sending-diagnostic-data" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Sending diagnostic data<a href="#sending-diagnostic-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="automatically-captured-diagnostics" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Automatically captured diagnostics<a href="#automatically-captured-diagnostics" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Bugsnag will automatically capture and attach the following diagnostic data:</p>
<ul>
<li>A full stacktrace</li>
<li>Battery state</li>
<li>Device model and OS version</li>
<li>Thread state for all threads</li>
<li>Release stage (production, debug, etc)</li>
<li>App running duration in the foreground and/or background</li>
<li>A device- and vendor-specific identifier</li>
</ul>
<p><a href="#identifying-users"></a></p>
<a id="identifying-users" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Identifying users<a href="#identifying-users" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In order to correlate errors with customer reports, or to see a list of users who experienced each error, it is helpful to capture and display user information. Information set on the Bugsnag client is sent with each error report:</p>
<pre><code class="typescript"><span class="hl-2">Sentry</span><span class="hl-1">.</span><span class="hl-4">setUser</span><span class="hl-1">({</span><span class="hl-5">&quot;email&quot;</span><span class="hl-2">:</span><span class="hl-1"> </span><span class="hl-5">&quot;john.doe@example.com&quot;</span><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><a href="#logging-breadcrumbs"></a></p>
<a id="logging-breadcrumbs" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Logging breadcrumbs<a href="#logging-breadcrumbs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In order to understand what happened in your application before each crash, it can be helpful to leave short log statements that we call breadcrumbs. The last several breadcrumbs are attached to a crash to help diagnose what events lead to the error.</p>
<a id="automatically-captured-breadcrumbs" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Automatically captured breadcrumbs<a href="#automatically-captured-breadcrumbs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default, Bugsnag captures common events including:</p>
<ul>
<li>Low memory warnings</li>
<li>Device rotation (if applicable)</li>
<li>Menu presentation</li>
<li>Screenshot capture (not the screenshot itself)</li>
<li>Undo and redo</li>
<li>Table view selection</li>
<li>Window visibility changes</li>
<li>Non-fatal errors</li>
<li>Log messages (off by default, see configuration options)</li>
</ul>
<a id="attaching-custom-breadcrumbs" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Attaching custom breadcrumbs<a href="#attaching-custom-breadcrumbs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To attach additional breadcrumbs, use the leaveBreadcrumb function:</p>
<pre><code class="typescript"><span class="hl-2">Sentry</span><span class="hl-1">.</span><span class="hl-4">addBreadcrumb</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">category:</span><span class="hl-1"> </span><span class="hl-5">&#39;ui&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">message:</span><span class="hl-1"> </span><span class="hl-5">&#39;load main view&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">level:</span><span class="hl-1"> </span><span class="hl-5">&#39;info&#39;</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p><a href="#demos-and-development"></a></p>
<a id="demos-and-development" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Demos and Development<a href="#demos-and-development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="repo-setup" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Repo Setup<a href="#repo-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The repo uses submodules. If you did not clone with <code> --recursive</code> then you need to call</p>
<pre><code><span class="hl-2">git</span><span class="hl-1"> </span><span class="hl-2">submodule</span><span class="hl-1"> </span><span class="hl-2">update</span><span class="hl-1"> --</span><span class="hl-2">init</span>
</code><button>Copy</button></pre>

<p>The package manager used to install and link dependencies must be <code>pnpm</code> or <code>yarn</code>. <code>npm</code> wont work.</p>
<p>To develop and test:
if you use <code>yarn</code> then run <code>yarn</code>
if you use <code>pnpm</code> then run <code>pnpm i</code></p>
<p><strong>Interactive Menu:</strong></p>
<p>To start the interactive menu, run <code>npm start</code> (or <code>yarn start</code> or <code>pnpm start</code>). This will list all of the commonly used scripts.</p>
<a id="build" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Build<a href="#build" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">build.all</span>
</code><button type="button">Copy</button></pre>

<p>WARNING: it seems <code>yarn build.all</code> wont always work (not finding binaries in <code>node_modules/.bin</code>) which is why the doc explicitly uses <code>npm run</code></p>
<a id="demos" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Demos<a href="#demos" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">demo.[ng</span><span class="hl-1">|</span><span class="hl-4">react</span><span class="hl-1">|</span><span class="hl-4">svelte</span><span class="hl-1">|</span><span class="hl-4">vue].[ios</span><span class="hl-1">|</span><span class="hl-4">android]</span><br/><br/><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">demo.svelte.ios</span><span class="hl-1"> </span><span class="hl-13"># Example</span>
</code><button type="button">Copy</button></pre>

<p>Demo setup is a bit special in the sense that if you want to modify/add demos you dont work directly in <code>demo-[ng|react|svelte|vue]</code>
Instead you work in <code>demo-snippets/[ng|react|svelte|vue]</code>
You can start from the <code>install.ts</code> of each flavor to see how to register new demos</p>
<p><a href="#contributing"></a></p>
<a id="contributing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="update-repo" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Update repo<a href="#update-repo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can update the repo files quite easily</p>
<p>First update the submodules</p>
<pre><code class="bash"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">update</span>
</code><button type="button">Copy</button></pre>

<p>Then commit the changes
Then update common files</p>
<pre><code class="bash"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">sync</span>
</code><button type="button">Copy</button></pre>

<p>Then you can run <code>yarn|pnpm</code>, commit changed files if any</p>
<a id="update-readme" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Update readme<a href="#update-readme" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">readme</span>
</code><button type="button">Copy</button></pre>

<a id="update-doc" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Update doc<a href="#update-doc" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">doc</span>
</code><button type="button">Copy</button></pre>

<a id="publish" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Publish<a href="#publish" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The publishing is completely handled by <code>lerna</code> (you can add <code>-- --bump major</code> to force a major release)
Simply run</p>
<pre><code class="shell"><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-5">run</span><span class="hl-1"> </span><span class="hl-5">publish</span>
</code><button type="button">Copy</button></pre>

<a id="modifying-submodules" class="tsd-anchor"></a><h3 class="tsd-anchor-link">modifying submodules<a href="#modifying-submodules" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The repo uses https:// for submodules which means you won't be able to push directly into the submodules.
One easy solution is t modify <code>~/.gitconfig</code> and add</p>
<pre><code><span class="hl-1">[</span><span class="hl-2">url</span><span class="hl-1"> </span><span class="hl-5">&quot;ssh://git@github.com/&quot;</span><span class="hl-1">]</span><br/><span class="hl-1">	</span><span class="hl-2">pushInsteadOf</span><span class="hl-1"> = </span><span class="hl-15">https</span><span class="hl-1">:</span><span class="hl-13">//github.com/</span>
</code><button>Copy</button></pre>

<p><a href="#questions"></a></p>
<a id="questions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Questions<a href="#questions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you have any questions/issues/comments please feel free to create an issue or start a conversation in the <a href="https://nativescript.org/discord" target="_blank" class="external">NativeScript Community Discord</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#installation"><span>Installation</span></a><a href="#configuration"><span>Configuration</span></a><ul><li><a href="#webpack"><span>Webpack</span></a></li><li><a href="#fastlane"><span>Fastlane</span></a></li></ul><a href="#usage-in-the-app"><span>Usage in the app</span></a><ul><li><a href="#reporting-nativescript-errors"><span>Reporting <wbr/>Native<wbr/>Script errors</span></a></li><li><a href="#reporting-handled-errors"><span>Reporting handled errors</span></a></li><li><a href="#reporting-promise-rejections"><span>Reporting promise rejections</span></a></li><li><a href="#sending-diagnostic-data"><span>Sending diagnostic data</span></a></li><li><ul><li><a href="#automatically-captured-diagnostics"><span>Automatically captured diagnostics</span></a></li></ul></li><li><a href="#identifying-users"><span>Identifying users</span></a></li><li><a href="#logging-breadcrumbs"><span>Logging breadcrumbs</span></a></li><li><ul><li><a href="#automatically-captured-breadcrumbs"><span>Automatically captured breadcrumbs</span></a></li><li><a href="#attaching-custom-breadcrumbs"><span>Attaching custom breadcrumbs</span></a></li></ul></li><li><a href="#demos-and-development"><span>Demos and <wbr/>Development</span></a></li><li><ul><li><a href="#repo-setup"><span>Repo <wbr/>Setup</span></a></li><li><a href="#build"><span>Build</span></a></li><li><a href="#demos"><span>Demos</span></a></li></ul></li><li><a href="#contributing"><span>Contributing</span></a></li><li><ul><li><a href="#update-repo"><span>Update repo</span></a></li><li><a href="#update-readme"><span>Update readme</span></a></li><li><a href="#update-doc"><span>Update doc</span></a></li><li><a href="#publish"><span>Publish</span></a></li><li><a href="#modifying-submodules"><span>modifying submodules</span></a></li></ul></li><li><a href="#questions"><span>Questions</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://docs.nativescript.org" class="tsd-nav-link">Nativescript Doc</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current">@nativescript-community/sentry</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
